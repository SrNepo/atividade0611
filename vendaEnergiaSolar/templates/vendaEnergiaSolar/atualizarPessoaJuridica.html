{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <title>Atualizar Pessoa Jurídica</title>
</head>
<body>
  <div class="container">
    <h1>Atualizar Pessoa Jurídica</h1>

    <form id="formPjUpdate" action="{% url 'aplicarAtualizacaoPessoaJuridica' pessoa.id %}" method="post">
      {% csrf_token %}

      <fieldset>
        <legend>Dados da empresa</legend>

        <div class="form-grid">
          <div class="field col-span-2">
            <label for="nome_fantasia">Nome Fantasia</label>
            <input type="text" id="nome_fantasia" name="nome_fantasia"
                   value="{{ pessoa.nome_fantasia }}" required>
          </div>

          <div class="field">
            <label for="cnpj">CNPJ</label>
            <input type="text" id="cnpj" name="cnpj"
                   value="{{ pessoa.cnpj }}"
                   maxlength="14" pattern="\d{14}" inputmode="numeric" required>
            <small class="hint">14 dígitos (somente números)</small>
          </div>

          <div class="field">
            <label for="abertura">Data de Abertura</label>
            <input type="date" id="abertura" name="abertura"
                   value="{{ pessoa.abertura|date:'Y-m-d' }}" required>
          </div>

          <div class="field col-span-2">
            <label for="razao_social">Razão Social</label>
            <input type="text" id="razao_social" name="razao_social"
                   value="{{ pessoa.razao_social }}" required>
          </div>

          <div class="field">
            <label for="inscricao_estadual">Inscrição Estadual</label>
            <input type="text" id="inscricao_estadual" name="inscricao_estadual"
                   value="{{ pessoa.inscricao_estadual }}">
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Endereço</legend>

        <div class="form-grid">
          <div class="field col-span-2">
            <label for="endereco">Endereço</label>
            <input type="text" id="endereco" name="endereco"
                   value="{{ pessoa.endereco }}">
          </div>

          <div class="field">
            <label for="cep">CEP</label>
            <input type="text" id="cep" name="cep"
                   value="{{ pessoa.cep }}"
                   maxlength="9" pattern="\d{5}-?\d{3}" inputmode="numeric" placeholder="00000-000">
          </div>

          <div class="field">
            <label for="logradouro">Logradouro</label>
            <input type="text" id="logradouro" name="logradouro"
                   value="{{ pessoa.logradouro }}">
          </div>

          <div class="field">
            <label for="numero">Número</label>
            <input type="text" id="numero" name="numero"
                   value="{{ pessoa.numero }}"
                   maxlength="10" pattern="\d{1,10}" inputmode="numeric">
          </div>

          <div class="field">
            <label for="bairro">Bairro</label>
            <input type="text" id="bairro" name="bairro"
                   value="{{ pessoa.bairro }}">
          </div>

          <div class="field">
            <label for="cidade">Cidade</label>
            <input type="text" id="cidade" name="cidade"
                   value="{{ pessoa.cidade }}">
          </div>

          <div class="field">
            <label for="estado">Estado</label>
            <input type="text" id="estado" name="estado"
                   value="{{ pessoa.estado }}"
                   maxlength="2" pattern="[A-Za-z]{2}" placeholder="UF">
            <small class="hint">Use a sigla do estado (ex.: CE)</small>
          </div>

          <div class="field">
            <label for="pais">País</label>
            <input type="text" id="pais" name="pais"
                   value="{{ pessoa.pais }}">
          </div>
        </div>
      </fieldset>
    </form>

    <div class="form-actions">
      <button type="submit" form="formPjUpdate">Atualizar</button>

      <form action="{% url 'visualizarPessoaJuridica' %}" method="get" class="inline-form">
        <button type="submit" class="btn-outline">Voltar</button>
      </form>
    </div>
  </div>
</body>
</html>
